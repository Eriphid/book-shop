<div #card class="waves-effect waves-teal card horizontal loading-dom" (click)="showDetails()">
  <div class="card-image cover">
    <div>
      <app-image [src]="book?.pickThumbnail(thumbnailSize) || ''" alt="thumbnail"></app-image>
      <div *ngIf="book?.saleability !== 'NOT_FOR_SALE'">
        <span [ngSwitch]="book?.saleability">
          <ng-container *ngSwitchCase="'FOR_SALE'">
            {{ book.price.amount }}{{ book.price.currencyCode === "EUR" ? "€" : "$" }}
          </ng-container>
          <ng-container *ngSwitchCase="'FREE'">
            FREE
          </ng-container>
        </span>
      </div>
    </div>
  </div>
  <div class="card-stacked">
    <div class="title">{{book?.title}}</div>
    <div class="card-content">
      <span *ngIf="book?.authors" class="authors">
        by {{book?.authors?.join(", ")}}
      </span>

      <div class="description" [innerHTML]="getDescription()"></div>
      <div class="rating" *ngIf="book.rating !== undefined">
        <i class="material-icons" *ngFor="let star of getStars()">{{star}}</i>
      </div>
    </div>

  </div>
</div>

<div #details class="modal">
  <div class="modal-content">
    <div class="title">{{book?.title}}</div>
    <div class="info">
      <span *ngIf="book?.authors" class="authors">
        by {{book?.authors?.join(", ")}}
      </span>
      <div class="cover">
        <div>
          <app-image [src]="book?.pickThumbnail('small') || ''" alt="thumbnail"></app-image>
          <div *ngIf="book?.saleability !== 'NOT_FOR_SALE'">
            <span [ngSwitch]="book?.saleability">
              <ng-container *ngSwitchCase="'FOR_SALE'">
                {{ book.price.amount }}{{ book.price.currencyCode === "EUR" ? "€" : "$" }}
              </ng-container>
              <ng-container *ngSwitchCase="'FREE'">
                FREE
              </ng-container>
            </span>
          </div>
        </div>
      </div>
      <div class="details">
        ISBN {{book.identifiers.get("ISBN_13")}}
        Genre: {{book.genre}}
      </div>
    </div>
  </div>
</div>
